{% extends "base.html" %}
{% block title %}–ù–æ–≤–∏–Ω–∏{% endblock %}

{% block content %}
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        overflow-x: hidden;
        background: linear-gradient(135deg,
            #ffffff 0%,
            #ffe4d0 15%,
            #ffd4b8 30%,
            #ffb88c 45%,
            #ffa36c 60%,
            #ff8c42 75%,
            #ffa36c 90%,
            #ffffff 100%);
        background-size: 400% 400%;
        animation: gradientShift 20s ease infinite;
    }

    @keyframes gradientShift {
        0% {
            background-position: 0% 50%;
        }
        50% {
            background-position: 100% 50%;
        }
        100% {
            background-position: 0% 50%;
        }
    }

    /* –°—Ç–µ–∫–ª—è–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ –≤—Å—é —Å—Ç—Ä–∞–Ω–∏—Ü—É */
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background:
            linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 100%),
            radial-gradient(circle at 20% 30%, rgba(255, 184, 140, 0.15) 0%, transparent 50%),
            radial-gradient(circle at 80% 70%, rgba(255, 163, 108, 0.15) 0%, transparent 50%);
        backdrop-filter: blur(2px);
        -webkit-backdrop-filter: blur(2px);
        pointer-events: none;
        z-index: 1;
    }

    /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø–∞–¥–∞—é—â–∏—Ö —Å–Ω–µ–∂–∏–Ω–æ–∫ */
    .snowflakes {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 9999;
        overflow: hidden;
    }

    /* –°—Ç–µ–∫–ª—è–Ω–Ω–∞—è —Å–Ω–µ–∂–∏–Ω–∫–∞ */
    .snowflake {
        position: absolute;
        top: -10px;
        color: rgba(255, 184, 140, 0.9);
        font-size: 20px;
        text-shadow:
            0 0 10px rgba(255, 184, 140, 0.8),
            0 0 20px rgba(255, 140, 66, 0.6),
            0 0 30px rgba(255, 255, 255, 0.4);
        animation: fall linear infinite, sparkle 2s ease-in-out infinite, rotate 4s linear infinite;
        filter: drop-shadow(0 0 8px rgba(255, 184, 140, 0.7));
    }

    .snowflake::before {
        content: '‚ùÑ';
    }

    @keyframes sparkle {
        0%, 100% {
            text-shadow:
                0 0 10px rgba(255, 184, 140, 0.8),
                0 0 20px rgba(255, 140, 66, 0.6),
                0 0 30px rgba(255, 255, 255, 0.4);
        }
        50% {
            text-shadow:
                0 0 20px rgba(255, 184, 140, 1),
                0 0 35px rgba(255, 140, 66, 0.9),
                0 0 50px rgba(255, 255, 255, 0.7);
        }
    }

    @keyframes rotate {
        from {
            transform: rotate(0deg);
        }
        to {
            transform: rotate(360deg);
        }
    }

    /* –°–æ–∑–¥–∞—ë–º 30 —Å–Ω–µ–∂–∏–Ω–æ–∫ —á–µ—Ä–µ–∑ CSS —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ –∏ –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –ø–æ–∑–∏—Ü–∏—è–º–∏ */
    .snowflake:nth-child(1) { left: 2%; font-size: 18px; animation-duration: 8s, 2s; animation-delay: -2s, 0s; }
    .snowflake:nth-child(2) { left: 8%; font-size: 22px; animation-duration: 10s, 2.5s; animation-delay: -5s, 1s; }
    .snowflake:nth-child(3) { left: 15%; font-size: 16px; animation-duration: 12s, 2s; animation-delay: -8s, 2s; }
    .snowflake:nth-child(4) { left: 22%; font-size: 20px; animation-duration: 9s, 2.2s; animation-delay: -3s, 0.5s; }
    .snowflake:nth-child(5) { left: 28%; font-size: 24px; animation-duration: 11s, 2.8s; animation-delay: -7s, 1.5s; }
    .snowflake:nth-child(6) { left: 35%; font-size: 17px; animation-duration: 13s, 2s; animation-delay: -10s, 2.5s; }
    .snowflake:nth-child(7) { left: 42%; font-size: 21px; animation-duration: 10s, 2.3s; animation-delay: -4s, 0.8s; }
    .snowflake:nth-child(8) { left: 48%; font-size: 19px; animation-duration: 9s, 2.7s; animation-delay: -6s, 1.8s; }
    .snowflake:nth-child(9) { left: 55%; font-size: 23px; animation-duration: 12s, 2s; animation-delay: -9s, 0.3s; }
    .snowflake:nth-child(10) { left: 62%; font-size: 18px; animation-duration: 11s, 2.4s; animation-delay: -8.5s, 2.8s; }
    .snowflake:nth-child(11) { left: 68%; font-size: 22px; animation-duration: 10s, 2.6s; animation-delay: -5.5s, 1.3s; }
    .snowflake:nth-child(12) { left: 75%; font-size: 20px; animation-duration: 13s, 2s; animation-delay: -11s, 0.6s; }
    .snowflake:nth-child(13) { left: 82%; font-size: 16px; animation-duration: 9s, 2.9s; animation-delay: -4.5s, 2.3s; }
    .snowflake:nth-child(14) { left: 88%; font-size: 24px; animation-duration: 12s, 2.1s; animation-delay: -7.5s, 1.1s; }
    .snowflake:nth-child(15) { left: 95%; font-size: 19px; animation-duration: 11s, 2.5s; animation-delay: -6.5s, 0.9s; }
    .snowflake:nth-child(16) { left: 5%; font-size: 21px; animation-duration: 10s, 2s; animation-delay: -3.5s, 2.1s; }
    .snowflake:nth-child(17) { left: 12%; font-size: 17px; animation-duration: 13s, 2.8s; animation-delay: -9.5s, 1.4s; }
    .snowflake:nth-child(18) { left: 18%; font-size: 23px; animation-duration: 9s, 2.3s; animation-delay: -2.5s, 0.7s; }
    .snowflake:nth-child(19) { left: 25%; font-size: 18px; animation-duration: 12s, 2.6s; animation-delay: -10.5s, 2.6s; }
    .snowflake:nth-child(20) { left: 32%; font-size: 20px; animation-duration: 11s, 2s; animation-delay: -5s, 1.2s; }
    .snowflake:nth-child(21) { left: 38%; font-size: 22px; animation-duration: 10s, 2.4s; animation-delay: -7s, 0.4s; }
    .snowflake:nth-child(22) { left: 45%; font-size: 16px; animation-duration: 13s, 2.9s; animation-delay: -12s, 2.9s; }
    .snowflake:nth-child(23) { left: 52%; font-size: 24px; animation-duration: 9s, 2.2s; animation-delay: -4s, 1.6s; }
    .snowflake:nth-child(24) { left: 58%; font-size: 19px; animation-duration: 12s, 2.7s; animation-delay: -8s, 0.2s; }
    .snowflake:nth-child(25) { left: 65%; font-size: 21px; animation-duration: 11s, 2s; animation-delay: -6s, 2.4s; }
    .snowflake:nth-child(26) { left: 72%; font-size: 17px; animation-duration: 10s, 2.5s; animation-delay: -3s, 1.7s; }
    .snowflake:nth-child(27) { left: 78%; font-size: 23px; animation-duration: 13s, 2.1s; animation-delay: -11.5s, 0.1s; }
    .snowflake:nth-child(28) { left: 85%; font-size: 18px; animation-duration: 9s, 2.8s; animation-delay: -5.5s, 2.7s; }
    .snowflake:nth-child(29) { left: 92%; font-size: 22px; animation-duration: 12s, 2.3s; animation-delay: -9s, 1.9s; }
    .snowflake:nth-child(30) { left: 98%; font-size: 20px; animation-duration: 11s, 2.6s; animation-delay: -7.5s, 0.5s; }

    /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–Ω–µ–∂–∏–Ω–∫–∏ */
    .snowflake:nth-child(n+31) {
        font-size: 18px;
        animation-duration: 10s, 2.5s;
    }
    .snowflake:nth-child(31) { left: 3%; animation-delay: -2.3s, 0.3s; }
    .snowflake:nth-child(32) { left: 10%; animation-delay: -6.7s, 1.1s; }
    .snowflake:nth-child(33) { left: 17%; animation-delay: -4.2s, 2.2s; }
    .snowflake:nth-child(34) { left: 24%; animation-delay: -8.9s, 0.9s; }
    .snowflake:nth-child(35) { left: 31%; animation-delay: -3.6s, 1.8s; }
    .snowflake:nth-child(36) { left: 39%; animation-delay: -7.1s, 0.4s; }
    .snowflake:nth-child(37) { left: 46%; animation-delay: -5.4s, 2.7s; }
    .snowflake:nth-child(38) { left: 53%; animation-delay: -9.8s, 1.5s; }
    .snowflake:nth-child(39) { left: 60%; animation-delay: -2.9s, 0.6s; }
    .snowflake:nth-child(40) { left: 67%; animation-delay: -6.3s, 2.1s; }
    .snowflake:nth-child(41) { left: 74%; animation-delay: -4.8s, 1.3s; }
    .snowflake:nth-child(42) { left: 81%; animation-delay: -8.2s, 0.8s; }
    .snowflake:nth-child(43) { left: 89%; animation-delay: -3.4s, 2.5s; }
    .snowflake:nth-child(44) { left: 96%; animation-delay: -7.6s, 1.7s; }
    .snowflake:nth-child(45) { left: 6%; animation-delay: -5.1s, 0.2s; }
    .snowflake:nth-child(46) { left: 14%; animation-delay: -9.3s, 2.8s; }
    .snowflake:nth-child(47) { left: 21%; animation-delay: -2.7s, 1.4s; }
    .snowflake:nth-child(48) { left: 29%; animation-delay: -6.9s, 0.7s; }
    .snowflake:nth-child(49) { left: 36%; animation-delay: -4.5s, 2.3s; }
    .snowflake:nth-child(50) { left: 44%; animation-delay: -8.7s, 1.6s; }
    .snowflake:nth-child(51) { left: 51%; animation-delay: -3.2s, 0.5s; }
    .snowflake:nth-child(52) { left: 59%; animation-delay: -7.8s, 2.4s; }
    .snowflake:nth-child(53) { left: 66%; animation-delay: -5.6s, 1.2s; }
    .snowflake:nth-child(54) { left: 73%; animation-delay: -9.1s, 0.9s; }
    .snowflake:nth-child(55) { left: 80%; animation-delay: -2.8s, 2.6s; }
    .snowflake:nth-child(56) { left: 87%; animation-delay: -6.4s, 1.8s; }
    .snowflake:nth-child(57) { left: 94%; animation-delay: -4.9s, 0.3s; }
    .snowflake:nth-child(58) { left: 7%; animation-delay: -8.5s, 2.9s; }
    .snowflake:nth-child(59) { left: 16%; animation-delay: -3.7s, 1.1s; }
    .snowflake:nth-child(60) { left: 23%; animation-delay: -7.2s, 0.6s; }

@keyframes fall {
    from {
        top: -10px;
    }
    to {
        top: 110vh;
    }
}


    .news-content-wrapper {
        position: relative;
        min-height: 100vh;
        padding: 40px 20px;
        z-index: 2;
    }

    /* –°—Ç–µ–∫–ª—è–Ω–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π */
    .glass-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(5px);
        -webkit-backdrop-filter: blur(5px);
        pointer-events: none;
        z-index: 1;
    }

    h2 {
        text-align: center;
        font-size: 4em;
        margin-bottom: 60px;
        color: #ffffff;
        font-weight: bold;
        text-transform: uppercase;
        letter-spacing: 3px;
        text-shadow:
            0 0 5px #ff8c42,
            0 0 10px #ff8c42,
            0 0 15px #ff8c42;
        animation: gentleNeonPulse 3s ease-in-out infinite alternate;
        position: relative;
        z-index: 3;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        padding: 20px;
        border-radius: 20px;
        border: 2px solid rgba(255, 255, 255, 0.3);
    }

    @keyframes gentleNeonPulse {
        0%, 100% {
            text-shadow:
                0 0 5px #ff8c42,
                0 0 10px #ff8c42,
                0 0 15px #ff8c42;
        }
        50% {
            text-shadow:
                0 0 8px #ff8c42,
                0 0 15px #ff8c42,
                0 0 22px #ff8c42;
        }
    }

    .news-list {
        max-width: 1200px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 35px;
        position: relative;
        z-index: 3;
    }

    .news-item {
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(30px);
        -webkit-backdrop-filter: blur(30px);
        border-radius: 25px;
        padding: 30px;
        border: 3px solid rgba(255, 255, 255, 0.4);
        box-shadow:
            0 8px 32px rgba(255, 140, 66, 0.3),
            inset 0 2px 20px rgba(255, 255, 255, 0.3),
            inset 0 -2px 20px rgba(255, 184, 140, 0.2),
            0 0 50px rgba(255, 140, 66, 0.15);
        transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        position: relative;
        overflow: hidden;
        animation: fadeInUp 0.8s ease-out backwards;
    }

    .news-item:nth-child(1) { animation-delay: 0.1s; }
    .news-item:nth-child(2) { animation-delay: 0.2s; }
    .news-item:nth-child(3) { animation-delay: 0.3s; }
    .news-item:nth-child(4) { animation-delay: 0.4s; }
    .news-item:nth-child(5) { animation-delay: 0.5s; }
    .news-item:nth-child(6) { animation-delay: 0.6s; }
    .news-item:nth-child(n+7) { animation-delay: 0.7s; }

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(40px) scale(0.95);
        }
        to {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
    }

    /* –ë–ª–∏–∫ –Ω–∞ —Å—Ç–µ–∫–ª–µ */
    .news-item::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg,
            transparent,
            rgba(255, 255, 255, 0.4),
            transparent);
        transition: left 0.5s;
    }

    .news-item:hover::before {
        left: 100%;
    }

    .news-item:hover {
        transform: translateY(-15px) scale(1.03);
        box-shadow:
            0 20px 50px rgba(255, 140, 66, 0.5),
            inset 0 2px 30px rgba(255, 255, 255, 0.4),
            inset 0 -2px 30px rgba(255, 184, 140, 0.3),
            0 0 80px rgba(255, 140, 66, 0.3);
        border-color: rgba(255, 255, 255, 0.6);
    }

    .like-btn {
        position: absolute;
        top: 25px;
        right: 25px;
        background: rgba(255, 255, 255, 0.3);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border: 3px solid rgba(255, 255, 255, 0.5);
        border-radius: 50%;
        width: 60px;
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.4s ease;
        text-decoration: none;
        z-index: 10;
        box-shadow:
            0 4px 20px rgba(255, 140, 66, 0.4),
            inset 0 2px 10px rgba(255, 255, 255, 0.4),
            inset 0 -2px 10px rgba(255, 184, 140, 0.3);
    }

    .like-btn:hover {
        background: rgba(255, 255, 255, 0.5);
        transform: scale(1.2) rotate(15deg);
        box-shadow:
            0 8px 30px rgba(255, 140, 66, 0.6),
            inset 0 2px 15px rgba(255, 255, 255, 0.6),
            inset 0 -2px 15px rgba(255, 184, 140, 0.4),
            0 0 40px rgba(255, 255, 255, 0.5);
        border-color: rgba(255, 255, 255, 0.8);
    }

    .like-btn:active {
        transform: scale(0.9);
        animation: heartBurst 0.6s ease;
    }

    @keyframes heartBurst {
        0%, 100% {
            transform: scale(0.9);
        }
        50% {
            transform: scale(1.4);
        }
    }

    .heart {
        font-size: 30px;
        display: inline-block;
        animation: heartbeat 2s ease-in-out infinite;
        filter: drop-shadow(0 0 5px rgba(255, 100, 100, 0.8));
    }

    @keyframes heartbeat {
        0%, 100% {
            transform: scale(1);
        }
        5% {
            transform: scale(1.15);
        }
        10% {
            transform: scale(1);
        }
        15% {
            transform: scale(1.15);
        }
        20% {
            transform: scale(1);
        }
    }

    .news-item img {
        width: 100%;
        height: 240px;
        object-fit: cover;
        border-radius: 18px;
        margin-bottom: 25px;
        border: 3px solid rgba(255, 255, 255, 0.5);
        box-shadow:
            0 5px 20px rgba(0, 0, 0, 0.15),
            0 0 30px rgba(255, 140, 66, 0.2),
            inset 0 0 10px rgba(255, 255, 255, 0.3);
        transition: all 0.4s ease;
    }

    .news-item:hover img {
        transform: scale(1.08);
        box-shadow:
            0 8px 30px rgba(0, 0, 0, 0.25),
            0 0 50px rgba(255, 140, 66, 0.5),
            inset 0 0 15px rgba(255, 255, 255, 0.4);
        border-color: rgba(255, 255, 255, 0.7);
    }

    .news-item h3 {
        margin: 20px 0;
        padding-right: 70px;
    }

    .news-item h3 a {
        color: #ffffff;
        text-decoration: none;
        font-size: 1.6em;
        font-weight: bold;
        text-shadow:
            0 0 5px #ff8c42,
            0 0 8px #ff8c42;
        transition: all 0.3s ease;
        display: inline-block;
    }

    .news-item h3 a:hover {
        color: #fff;
        text-shadow:
            0 0 8px #ff8c42,
            0 0 15px #ff8c42,
            0 0 20px #ff8c42;
        transform: translateX(8px);
        letter-spacing: 1px;
    }

    .news-item p {
        color: rgba(50, 50, 50, 0.95);
        line-height: 1.7;
        font-size: 1.1em;
        text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5);
        font-weight: 500;
    }

    .news-list > p {
        grid-column: 1 / -1;
        text-align: center;
        color: #ffffff;
        font-size: 1.5em;
        padding: 50px;
        background: rgba(255, 255, 255, 0.25);
        backdrop-filter: blur(30px);
        -webkit-backdrop-filter: blur(30px);
        border-radius: 25px;
        border: 3px solid rgba(255, 255, 255, 0.4);
        box-shadow:
            0 8px 32px rgba(255, 140, 66, 0.3),
            inset 0 2px 20px rgba(255, 255, 255, 0.3),
            inset 0 -2px 20px rgba(255, 184, 140, 0.2);
        text-shadow:
            0 0 5px #ff8c42,
            0 0 10px #ff8c42;
        animation: pulseGlow 2s ease-in-out infinite;
    }

    @keyframes pulseGlow {
        0%, 100% {
            box-shadow:
                0 8px 32px rgba(255, 140, 66, 0.3),
                inset 0 2px 20px rgba(255, 255, 255, 0.3),
                inset 0 -2px 20px rgba(255, 184, 140, 0.2);
        }
        50% {
            box-shadow:
                0 8px 40px rgba(255, 140, 66, 0.5),
                inset 0 2px 30px rgba(255, 255, 255, 0.4),
                inset 0 -2px 30px rgba(255, 184, 140, 0.3);
        }
    }

    @media (max-width: 768px) {
        .news-list {
            grid-template-columns: 1fr;
        }

        h2 {
            font-size: 2.8em;
        }

        .news-item h3 a {
            font-size: 1.3em;
        }
    }
</style>

<!-- –°—Ç–µ–∫–ª—è–Ω–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π -->
<div class="glass-overlay"></div>

<!-- –ü–∞–¥–∞—é—â–∏–µ —Å—Ç–µ–∫–ª—è–Ω–Ω—ã–µ —Å–Ω–µ–∂–∏–Ω–∫–∏ -->
<div class="snowflakes">
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
</div>

<div class="news-content-wrapper">
    <h2>‚ú®–ù–æ–≤–∏–Ω–∏ –ø—Ä–æ –Ω–∞–π–±–ª–∏–∂—á—ñ –∑–Ω–∏–∂–∫–∏‚ú®</h2>

    <div class="news-list">
        {% for item in news %}
            <div class="news-item">
                <a href="#" class="like-btn" data-id="{{ item.id }}" data-type="news">
                    <span class="heart" id="news-heart-{{ item.id }}">
                        {% if user in item.liked_by.all %}
                            ‚ù§Ô∏è
                        {% else %}
                            ü§ç
                        {% endif %}
                    </span>
                </a>

                {% if item.image %}
                    <img src="{{ item.image }}" alt="{{ item.title }}">
                {% endif %}

                <h3><a href="{{ item.url }}" target="_blank">{{ item.title }}</a></h3>
                <p>{{ item.content|truncatechars:200 }}</p>
            </div>
        {% empty %}
            <p>‚ú®–ù–æ–≤–∏–Ω–∏ –ø–æ–∫–∏ —â–æ –Ω–µ–º–∞—î‚ú®</p>
        {% endfor %}
    </div>
</div>


{% endblock %}